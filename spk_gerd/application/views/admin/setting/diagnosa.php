  <div class="layout-px-spacing">

    <div class="middle-content container-xxl p-0">

      <!-- BREADCRUMB -->
      <div class="page-meta">
        <nav class="breadcrumb-style-one" aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Setting</a></li>
            <li class="breadcrumb-item active" aria-current="page">Diagnosa</li>
          </ol>
        </nav>
      </div>
      <!-- /BREADCRUMB -->

      <div class="row layout-top-spacing">

        <div class="col-xl-12 col-lg-12 col-sm-12  layout-spacing">
          <div id="iconsAccordion" class="accordion-icons accordion">
            <div class="card">
              <div class="card-header" id="...">
                <section class="mb-0 mt-0">
                  <div role="menu" class="collapsed" data-bs-toggle="collapse" data-bs-target="#iconAccordionOne" aria-expanded="false" aria-controls="iconAccordionOne" style="color: black!important">
                    <div class="accordion-icon"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                      <circle style="fill:#21D0C3;" cx="256" cy="256" r="256" />
                      <g>
                        <path style="fill:#666666;" d="M270.251,267.525v25.828h-16.555v-25.828c2.742,0.06,5.5,0.094,8.279,0.094
                        C264.753,267.619,267.51,267.585,270.251,267.525z" />
                        <path style="fill:#666666;" d="M261.975,37.398c63.846,0,115.609,51.763,115.609,115.61c0,63.846-51.763,115.606-115.609,115.606
                        c-63.847,0-115.608-51.76-115.608-115.606C146.367,89.161,198.127,37.398,261.975,37.398z" />
                      </g>
                      <path style="fill:#21D0C3;" d="M261.975,52.378c55.574,0,100.629,45.054,100.629,100.629S317.55,253.636,261.975,253.636
                      s-100.629-45.054-100.629-100.629S206.4,52.378,261.975,52.378z" />
                      <circle style="fill:#FEFEFE;" cx="261.978" cy="153.011" r="63.65" />
                      <path style="fill:#666666;" d="M249.297,467.739h25.349c3.526,0,6.41-2.958,6.41-6.569V306.041c0-3.612-2.901-6.57-6.41-6.57
                      h-25.348c-3.507,0-6.407,2.975-6.407,6.57V461.17C242.89,464.764,245.774,467.739,249.297,467.739z" />
                      <path style="fill:#FEFEFE;" d="M281.055,311.209v-11.287c0-3.608-2.888-6.569-6.408-6.569h-25.35c-3.518,0-6.408,2.963-6.408,6.569
                      v11.287H281.055z" />
                      <path style="fill:#ECF0F1;" d="M281.055,311.209v-11.285c0-3.456-2.646-6.315-5.964-6.553v17.838L281.055,311.209L281.055,311.209z
                      M248.851,293.371c-3.314,0.239-5.962,3.098-5.962,6.553v11.285h5.962V293.371z" />
                      <path style="fill:#FED298;" d="M164.885,436.925l-66.769,3.199L54.67,359.648l109.757-6.034
                      c16.41-22.686,27.606-44.539,78.463-42.683l-0.04,10.661l55.179-0.587c19.001-0.903,21.827,30.366,1.24,31.342l-2.83,0.246
                      l-0.454,2.576l7.753-0.566c15.791-1.412,18.127,28.596,0.162,30.2l-13.492,1.867l-0.316,2.196l8.678-1.121
                      c14.533-1.316,14.87,28.326-0.519,30.085l-10.369,1.711l0.028,1.596l4.243-0.045c14.429-0.599,12.524,25.904-1.076,27.352
                      c-16.527,1.766-18.24,1.658-35.184,2.864C231.906,452.147,175.334,457.707,164.885,436.925L164.885,436.925z" />
                      <path style="fill:#F0B97D;" d="M164.288,437.085l-86.13,3.038c-1.804-1.744-3.581-3.515-5.334-5.311l93.418-2.419
                      c2.46-0.371,3.823,1.423,4.816,2.322c11.301,26.383,104.827,10.463,125.635,10.805l0.569,0.002
                      c-1.667,1.582-3.736,2.659-6.185,2.918l-0.056,0.007C264,451.034,180.618,463.534,164.288,437.085z" />
                      <path style="fill:#FFFFFF;" d="M146.271,349.155l1.892,94.311l-22.108,0.102l-1.887-95.096L146.271,349.155z" />
                      <path style="fill:#0F7986;" d="M132.963,345.1l1.407,101.826l-47.943,0.838c-35.358-31.29-61.99-72.206-75.812-118.641
                      L132.963,345.1L132.963,345.1z" />
                      <g>
                        <path style="fill:#FAD24D;" d="M121.353,436.771c0.034,3.251-2.511,5.909-5.677,5.942c-3.168,0.032-5.762-2.579-5.786-5.826
                        c-0.033-3.247,2.509-5.91,5.675-5.943C118.734,430.915,121.326,433.522,121.353,436.771z" />
                        <path style="fill:#FAD24D;" d="M105.717,437.283c0.034,3.251-2.511,5.909-5.677,5.942c-3.168,0.032-5.762-2.579-5.786-5.826
                        c-0.033-3.247,2.509-5.91,5.675-5.943C103.098,431.426,105.69,434.034,105.717,437.283z" />
                      </g>
                      <g>
                        <path style="fill:#ECF0F1;" d="M252.417,251.967c-50.419-3.071-90.39-46.199-90.39-98.96s39.972-95.89,90.39-98.96
                        c-5.311,1.302-10.452,3.049-15.391,5.197c-37.74,13.384-64.863,50.304-64.863,93.763s27.123,80.379,64.863,93.763
                        C241.965,248.917,247.107,250.664,252.417,251.967z" />
                        <path style="fill:#ECF0F1;" d="M276.788,245.082c44.615-2.856,79.985-42.984,79.985-92.076s-35.37-89.22-79.985-92.076
                        c1.029,0.266,2.051,0.551,3.066,0.854c40.99,6.622,72.436,44.934,72.436,91.222s-31.446,84.6-72.436,91.222
                        C278.839,244.532,277.817,244.817,276.788,245.082z" />
                      </g>
                      <path style="fill:#FF5B62;" d="M250.701,111.492h22.547v30.241h30.241v22.547h-30.241v30.241h-22.547V164.28H220.46v-22.547h30.241
                      L250.701,111.492L250.701,111.492z" />
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                    </svg></div>
                    Form Setting  

                    <div class="icons">
                      

                    </div>

                  </div>
                </section>
              </div>

              <div id="iconAccordionOne" class="collapse show" aria-labelledby="..." data-bs-parent="#iconsAccordion">
                <div class="card-body">

                  <div id="flFormsGrid" class="col-lg-12 layout-spacing">
                    <div class="row">
                      <div class="col-md-6">
                        <form action="javascript:void();" method="POST" id="form_setting">
                         <div class="row">
                          <div class="col-md-12 p-2">
                            <label for="penyakit" class="form-label">Penyakit</label><br>
                            <input type="hidden" name="kode_setting" id="kode_setting">
                            <select id="penyakit" name="penyakit" class="form-control" required>
                              <option value="">Pilih Penyakit</option>
                              <?php foreach($penyakit->result() as $p): ?>
                                <option value="<?=$p->kode_penyakit?>"><?=$p->nama_penyakit?></option>
                              <?php endforeach; ?>
                            </select>
                          </div>
                          <div class="col-md-12 p-2">
                            <label for="gejala" class="form-label">Gejala</label>
                            <select id="gejala" name="gejala" class="form-control">
                              <option value="">Pilih Gejala</option>
                              <?php foreach($gejala->result() as $g): ?>
                                <option value="<?=$g->kode_gejala?>" nama_gejala="<?=$g->nama_gejala?>"><?=$g->nama_gejala?></option>
                              <?php endforeach; ?>
                            </select>
                          </div>
                        </div>
                        <button type="button" id="tambah" onclick="tambah_gejala()" class="btn btn-info mb-2 mr-2">
                         <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 484.8 484.8" style="enable-background:new 0 0 484.8 484.8;" xml:space="preserve">
                          <circle style="fill:#0D9B79;" cx="242.4" cy="242.4" r="242.4" />
                          <path style="fill:#056B5C;" d="M0,242.4C0,376,108,484,242.4,484C376,484,484,376,484,242.4" />
                          <polygon style="fill:#EBFFF6;" points="394.4,202.4 282.4,202.4 282.4,90.4 202.4,90.4 202.4,202.4 90.4,202.4 90.4,282.4 
                          202.4,282.4 202.4,394.4 282.4,394.4 282.4,282.4 394.4,282.4 " />
                          <polygon style="fill:#D6EAE0;" points="282.4,200.8 200.8,282.4 202.4,282.4 202.4,394.4 282.4,394.4 282.4,282.4 394.4,282.4 
                          394.4,202.4 282.4,202.4 " />
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                        </svg>&nbsp;Tambahkan Gejala</button>
                        <button type="submit" id="simpan"  style="background: #937DC2!important;border-color:#937DC2!important;" class="btn btn-info mb-2 mr-2">
                         <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 484.8 484.8" style="enable-background:new 0 0 484.8 484.8;" xml:space="preserve">
                          <circle style="fill:#0D9B79;" cx="242.4" cy="242.4" r="242.4" />
                          <path style="fill:#056B5C;" d="M0,242.4C0,376,108,484,242.4,484C376,484,484,376,484,242.4" />
                          <polygon style="fill:#EBFFF6;" points="394.4,202.4 282.4,202.4 282.4,90.4 202.4,90.4 202.4,202.4 90.4,202.4 90.4,282.4 
                          202.4,282.4 202.4,394.4 282.4,394.4 282.4,282.4 394.4,282.4 " />
                          <polygon style="fill:#D6EAE0;" points="282.4,200.8 200.8,282.4 202.4,282.4 202.4,394.4 282.4,394.4 282.4,282.4 394.4,282.4 
                          394.4,202.4 282.4,202.4 " />
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                        </svg>&nbsp;<span id="tipe">Simpan Setting</span></button>
                        <button type="button" id="batal" onclick="batal_form()"  style="background: #E14D2A!important;border-color:#E14D2A!important;" class="btn btn-info mb-2 mr-2">
                          <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.139 477.139" style="enable-background:new 0 0 477.139 477.139;" xml:space="preserve">
                            <g>
                              <g>
                                <path d="M56.656,477.139c-14.515,0-29.03-5.525-40.081-16.575c-22.101-22.101-22.101-58.062,0-80.162l141.833-141.833
                                L16.575,96.737c-22.1-22.101-22.1-58.061,0-80.162c22.102-22.101,58.062-22.099,80.162,0L238.57,158.408L380.402,16.575
                                c22.1-22.099,58.061-22.1,80.162,0c22.101,22.101,22.101,58.062,0,80.162L318.731,238.569l141.833,141.833
                                c22.1,22.101,22.1,58.061,0,80.162c-22.102,22.102-58.062,22.1-80.162,0L238.57,318.731L96.737,460.564
                                C85.687,471.614,71.172,477.139,56.656,477.139z M56.656,19.99c-9.395,0-18.787,3.575-25.939,10.727
                                c-14.302,14.303-14.302,37.575,0,51.877l148.903,148.904c3.905,3.905,3.905,10.237,0,14.143L30.718,394.545
                                c-14.303,14.302-14.303,37.574,0,51.877c14.303,14.302,37.576,14.302,51.877,0l148.904-148.903c3.905-3.905,10.237-3.905,14.143,0
                                l148.904,148.903c14.303,14.303,37.575,14.304,51.877,0c14.302-14.303,14.302-37.575,0-51.877L297.518,245.641
                                c-3.905-3.905-3.905-10.237,0-14.143L446.422,82.594c14.303-14.302,14.303-37.574,0-51.877c-14.303-14.302-37.575-14.302-51.877,0
                                L245.641,179.621c-3.905,3.905-10.237,3.905-14.143,0L82.595,30.717C75.444,23.567,66.049,19.99,56.656,19.99z" />
                              </g>
                              <g>
                                <path d="M266.07,204.569c-2.559,0-5.119-0.976-7.071-2.929c-3.905-3.905-3.905-10.237,0-14.143l87.5-87.5
                                c3.905-3.905,10.237-3.905,14.143,0s3.905,10.237,0,14.143l-87.5,87.5C271.188,203.593,268.629,204.569,266.07,204.569z" />
                              </g>
                              <g>
                                <path d="M382.07,88.569c-2.559,0-5.119-0.977-7.071-2.929c-3.905-3.905-3.905-10.237,0-14.143l28.75-28.75
                                c3.905-3.904,10.237-3.904,14.143,0c3.905,3.905,3.905,10.237,0,14.143l-28.75,28.75C387.188,87.593,384.629,88.569,382.07,88.569
                                z" />
                              </g>
                            </g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                          </svg>&nbsp;Baru / Batal</button>
                        </form>
                      </div>
                      <div class="col-md-6">
                        <div class="table-responsive">
                          <table class="table" >
                            <thead>
                              <tr>
                                <th scope="col">Gejala</th>
                                <th scope="col">Action</th>
                              </tr>
                            </thead>
                            <tbody id="data_gejala">

                            </tbody>
                          </table>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="...">
                <section class="mb-0 mt-0">
                  <div role="menu" class="" data-bs-toggle="collapse" data-bs-target="#iconAccordionThree" aria-expanded="false" aria-controls="iconAccordionThree">
                    <div class="accordion-icon">
                     <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                      <rect x="22.925" y="385.91" style="fill:#0052B4;" width="76.418" height="76.418" />
                      <g>
                        <rect x="175.761" y="362.985" style="fill:#93C7EF;" width="336.239" height="122.269" />
                        <rect x="175.761" y="194.866" style="fill:#93C7EF;" width="336.239" height="122.269" />
                        <rect x="175.761" y="26.746" style="fill:#93C7EF;" width="336.239" height="122.269" />
                      </g>
                      <g>
                        <rect x="343.881" y="362.985" style="fill:#78B9EB;" width="168.119" height="122.269" />
                        <rect x="343.881" y="194.866" style="fill:#78B9EB;" width="168.119" height="122.269" />
                        <rect x="343.881" y="26.746" style="fill:#78B9EB;" width="168.119" height="122.269" />
                      </g>
                      <rect x="22.925" y="49.672" style="fill:#FFFFFF;" width="76.418" height="76.418" />
                      <path style="fill:#006DF0;" d="M122.269,149.015H0V26.746h122.269V149.015z M45.851,103.164h30.567V72.597H45.851V103.164z" />
                      <polygon style="fill:#0052B4;" points="61.134,26.746 61.134,72.597 76.418,72.597 76.418,103.164 61.134,103.164 61.134,149.015 
                      122.269,149.015 122.269,26.746 " />
                      <rect x="22.925" y="217.791" style="fill:#FFFFFF;" width="76.418" height="76.418" />
                      <path style="fill:#006DF0;" d="M122.269,317.134H0V194.866h122.269V317.134z M45.851,271.284h30.567v-30.567H45.851V271.284z" />
                      <polygon style="fill:#0052B4;" points="61.134,194.866 61.134,240.716 76.418,240.716 76.418,271.284 61.134,271.284 
                      61.134,317.134 122.269,317.134 122.269,194.866 " />
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                    </svg>
                  </div>
                  Data Settings <div class="icons"><svg> ... </svg></div>
                </div>
              </section>
            </div>
            <div id="iconAccordionThree" class="collapse" aria-labelledby="..." data-bs-parent="#iconsAccordion">
              <div class="card-body">
               <table id="zero-config" class="table dt-table-hover" style="width:100%">
                <thead>
                  <tr>
                    <th>Kode Penyakit</th>
                    <th>Nama Penyakit</th>
                    <th class="no-content">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <?php foreach($setting->result() as $s): ?>
                    <tr>
                      <td><?=$s->kode_penyakit?></td>
                      <td><?=$s->nama_penyakit?></td>
                      <td>
                        <button type="button" class="btn btn-warning btn-icon mb-2 me-4" onclick="gejala(`<?=$s->kode_setting?>`,`<?=$s->nama_penyakit?>`)" data-bs-toggle="modal" data-bs-target="#rotateleftModal">
                          <svg width="48px" height="48px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><title>Free Medical icons</title><path d="M40,47.5H8a3,3,0,0,1-3-3V4.5a3,3,0,0,1,3-3H40a3,3,0,0,1,3,3v40A3,3,0,0,1,40,47.5Zm-31-4H39V5.5H9v38Z" fill="#2161ff"/><rect x="22" y="10" width="4" height="10" transform="translate(9 39) rotate(-90)" fill="#a6c7ff"/><rect x="22" y="10" width="4" height="10" transform="translate(48 30) rotate(-180)" fill="#a6c7ff"/><path d="M30,29.5H18a2,2,0,0,1,0-4H30A2,2,0,0,1,30,29.5Z" fill="#a6c7ff"/><path d="M30,38.5H18a2,2,0,0,1,0-4H30A2,2,0,0,1,30,38.5Z" fill="#a6c7ff"/><rect width="48" height="48" fill="none"/></svg>
                          Gejala
                        </button>
                        <button type="button" class="btn btn-info btn-icon mb-2 me-4" onclick="edit(`<?=$s->kode_setting?>`)">
                          <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 503.563 503.563" style="enable-background:new 0 0 503.563 503.563;" xml:space="preserve">
                            <path style="fill:#FF7058;" d="M406.641,490.541c7.314,7.314,18.808,7.314,26.122,0l57.469-57.469
                            c7.314-7.314,7.314-18.808,0-26.122l-34.482-34.482l-83.592,83.592L406.641,490.541z" />
                            <polygon style="fill:#D8AB53;" points="90.037,57.953 90.037,56.908 90.037,56.908 " />
                            <path style="fill:#FFD05C;" d="M32.567,116.467L17.939,48.549L8.535,8.843l39.706,8.359l67.918,15.673l0,0
                            c-1.045,6.269-3.135,11.494-8.359,16.718c-5.224,5.224-11.494,7.314-17.763,8.359c1.045,8.359-1.045,17.763-8.359,25.078
                            c-3.135,3.135-7.314,5.224-11.494,6.269c-4.18,1.045-8.359,2.09-12.539,1.045c0,6.269-3.135,12.539-8.359,17.763
                            C44.061,113.333,38.837,115.422,32.567,116.467z" />
                            <path style="fill:#84DBFF;" d="M415,382.916L90.037,57.953l0,0c6.269,0,12.539-3.135,17.763-8.359
                            c4.18-4.18,7.314-10.449,8.359-16.718l0,0l323.918,323.918L415,382.916L415,382.916z" />
                            <path style="fill:#54C0EB;" d="M57.645,90.345c8.359,1.045,17.763-1.045,25.078-8.359c5.224-5.224,7.314-12.539,7.314-19.853
                            c0-1.045,0-3.135,0-4.18L415,382.916l-32.392,32.392L57.645,90.345z" />
                            <path style="fill:#84DBFF;" d="M356.486,440.386L32.567,116.467l0,0c6.269-1.045,11.494-3.135,16.718-8.359
                            c5.224-5.224,7.314-11.494,8.359-17.763l0,0l324.963,324.963L356.486,440.386z" />
                            <polygon style="fill:#334A5E;" points="17.939,48.549 8.535,8.843 48.241,17.202 " />
                            <rect x="346.789" y="395.399" transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 979.7654 405.8641)" style="fill:#FFD15C;" width="118.072" height="20.898" />
                            <path style="fill:#55BFE9;" d="M440.077,356.794l15.673,15.673L440.077,356.794z" />
                            <polygon style="fill:#FFD15C;" points="429.628,397.545 429.628,397.545 455.751,372.467 " />
                            <polygon style="fill:#55BFE9;" points="397.237,429.937 397.237,429.937 429.628,397.545 429.628,397.545 " />
                            <g>
                              <path style="fill:#40596B;" d="M476.649,157.218c-19.853,19.853-44.931,28.212-71.053,26.122l-58.514,58.514l-4.18,4.18
                              l-6.269,6.269l-84.637-84.637l11.494-11.494l58.514-58.514c-2.09-25.078,7.314-51.2,26.122-71.053
                              c22.988-22.988,55.38-31.347,85.682-24.033l-55.38,56.424l10.449,56.424l56.424,10.449l55.38-55.38
                              C506.951,100.794,499.637,133.186,476.649,157.218z" />
                              <path style="fill:#40596B;" d="M98.396,321.267c-25.078-2.09-51.2,7.314-71.053,26.122C4.355,370.378-4.004,403.814,3.31,433.071
                              l55.38-54.335l56.424,10.449l10.449,56.424l-55.38,55.38c30.302,7.314,62.694-1.045,85.682-24.033
                              c19.853-19.853,28.212-44.931,26.122-71.053l48.065-48.065l9.404-9.404l-84.637-84.637L98.396,321.267z" />
                            </g>
                            <rect x="196.426" y="240.026" transform="matrix(-0.7074 0.7068 -0.7068 -0.7074 560.5087 367.1391)" style="fill:#334A5E;" width="15.673" height="119.117" />
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                            <g></g>
                          </svg>
                        </button>
                        <button class="btn btn-danger btn-icon mb-2 me-4" onclick="hapus(`<?=$s->kode_setting?>`)">
                         <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                          <path style="fill:#77757F;" d="M395.636,93.091h-46.545h-23.273V23.273C325.818,10.42,315.398,0,302.545,0h-93.091h-93.091
                          c-12.853,0-23.273,10.42-23.273,23.273v69.818H69.818H23.273C10.42,93.091,0,103.511,0,116.364s10.42,23.273,23.273,23.273h23.273
                          v287.03c0,12.853,10.42,23.273,23.273,23.273h93.091h46.545h11.785c-1.285-1.624-2.529-3.285-3.752-4.959
                          c-0.386-0.529-0.765-1.066-1.145-1.6c-0.853-1.198-1.69-2.408-2.51-3.629c-0.391-0.582-0.785-1.16-1.17-1.747
                          c-1.095-1.674-2.169-3.365-3.204-5.081c-0.002-0.002-0.002-0.003-0.003-0.005V265.278c6.582-10.92,14.401-21.012,23.273-30.075
                          c4.861-4.966,10.031-9.627,15.487-13.943c2.535-2.005,5.134-3.928,7.786-5.783c7.34-5.131,15.12-9.672,23.273-13.557
                          c14.473-6.893,30.118-11.709,46.545-14.069c7.602-1.092,15.371-1.669,23.273-1.669c7.902,0,15.67,0.577,23.273,1.669v-48.215h23.273
                          c12.853,0,23.273-10.42,23.273-23.273C418.909,103.511,408.489,93.091,395.636,93.091z M256,93.091h-46.545h-46.545h-23.273V46.545
                          h69.818h69.818v46.545H256z" />
                          <g>
                            <polygon style="fill:#C3C3C7;" points="93.091,139.636 93.091,403.394 139.636,403.394 139.636,139.636 116.364,139.636    " />
                            <path style="fill:#C3C3C7;" d="M195.5,403.394c-6.028-16.994-9.318-35.269-9.318-54.303v54.303H195.5z" />
                          </g>
                          <g>
                            <path style="fill:#A9A8AE;" d="M186.182,139.636v209.455c0-44.286,17.77-84.492,46.545-113.887v-95.567H186.182z" />
                            <path style="fill:#A9A8AE;" d="M302.545,139.636h-23.273v62.286c14.473-6.893,30.118-11.709,46.545-14.069v-48.216H302.545z" />
                          </g>
                          <path style="fill:#87868D;" d="M221.24,449.939c-4.274-5.407-8.212-11.092-11.785-17.02v17.02H221.24z" />
                          <g>
                            <polygon style="fill:#77757F;" points="93.091,139.636 93.091,403.394 139.636,403.394 139.636,139.636 116.364,139.636    " />
                            <path style="fill:#77757F;" d="M186.182,349.091v54.303h9.318c2.861,8.065,6.327,15.846,10.367,23.273
                            c1.15,2.115,2.349,4.197,3.589,6.253V139.636h-23.273v209.455H186.182z" />
                          </g>
                          <path style="fill:#57575C;" d="M162.909,93.091h-23.273V46.545h69.818V0h-93.091c-12.853,0-23.273,10.42-23.273,23.273v69.818
                          H69.818H23.273C10.42,93.091,0,103.511,0,116.364s10.42,23.273,23.273,23.273h23.273v287.03c0,12.853,10.42,23.273,23.273,23.273
                          h93.091h46.545v-17.02c-1.24-2.056-2.439-4.139-3.589-6.253c-4.04-7.427-7.506-15.208-10.367-23.273h-9.317v-54.303V139.636h23.273
                          V93.091H162.909z M139.636,403.394H93.091V139.636h23.273h23.273V403.394z" />
                          <path style="fill:#D8143A;" d="M372.364,187.851c-7.602-1.092-15.371-1.669-23.273-1.669c-7.902,0-15.67,0.577-23.273,1.669
                          c-16.427,2.36-32.073,7.176-46.545,14.069c-8.153,3.883-15.932,8.426-23.273,13.557c-2.652,1.854-5.25,3.779-7.786,5.783
                          c-5.458,4.316-10.628,8.977-15.487,13.943c-28.776,29.395-46.545,69.601-46.545,113.887c0,19.034,3.291,37.309,9.318,54.303
                          c2.861,8.065,6.327,15.846,10.367,23.273c4.464,8.208,9.615,15.99,15.372,23.273C251.1,487.714,297.312,512,349.091,512
                          C438.919,512,512,438.919,512,349.091C512,267.163,451.205,199.179,372.364,187.851z M398.459,365.546
                          c9.089,9.089,9.089,23.824,0,32.912c-4.544,4.544-10.501,6.817-16.455,6.817s-11.913-2.271-16.457-6.817l-16.455-16.455
                          l-16.455,16.455c-4.544,4.544-10.501,6.817-16.457,6.817c-5.956,0-11.913-2.271-16.455-6.817c-9.089-9.089-9.089-23.824,0-32.912
                          l16.455-16.455l-16.455-16.455c-9.089-9.089-9.089-23.824,0-32.912c9.087-9.089,23.824-9.089,32.912,0l16.455,16.455l16.455-16.455
                          c9.087-9.089,23.824-9.089,32.912,0s9.089,23.824,0,32.912l-16.455,16.455L398.459,365.546z" />
                          <path style="fill:#B8002B;" d="M332.636,398.459c-4.544,4.544-10.501,6.817-16.455,6.817c-5.956,0-11.913-2.271-16.455-6.817
                          c-9.089-9.089-9.089-23.824,0-32.912l16.454-16.455l-16.455-16.455c-9.089-9.089-9.089-23.824,0-32.912
                          c9.087-9.089,23.824-9.089,32.912,0l16.455,16.455V186.182c-7.902,0-15.67,0.577-23.273,1.669
                          c-16.427,2.36-32.073,7.176-46.545,14.069c-8.153,3.883-15.932,8.426-23.273,13.557c-2.652,1.854-5.25,3.779-7.786,5.783
                          c-5.458,4.316-10.628,8.977-15.487,13.943c-28.776,29.395-46.545,69.601-46.545,113.887c0,19.034,3.291,37.309,9.318,54.303
                          c2.861,8.065,6.327,15.846,10.367,23.273c4.464,8.208,9.615,15.99,15.372,23.273C251.1,487.714,297.312,512,349.091,512V382.003
                          L332.636,398.459z" />
                          <path style="fill:#70001E;" d="M299.723,299.723c-9.089,9.089-9.089,23.824,0,32.912l16.455,16.455l-16.455,16.455
                          c-9.089,9.089-9.089,23.824,0,32.912c4.544,4.544,10.501,6.817,16.455,6.817c5.956,0,11.913-2.271,16.455-6.817l16.457-16.455
                          l16.455,16.455c4.544,4.544,10.501,6.817,16.455,6.817c5.956,0,11.913-2.271,16.455-6.817c9.089-9.089,9.089-23.824,0-32.912
                          l-16.454-16.455l16.455-16.455c9.089-9.089,9.089-23.824,0-32.912c-9.087-9.089-23.824-9.089-32.912,0l-16.455,16.455
                          l-16.455-16.455C323.547,290.634,308.81,290.634,299.723,299.723z" />
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                        </svg>
                      </button>


                    </td>
                  </tr>
                <?php endforeach; ?>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

          <!-- <div class="card">
            <div class="card-body">
              <div id="flFormsGrid" class="col-lg-12 layout-spacing">
                <div class="row">
                  <div class="col-md-12 p-2">
                    <label for="kode_solusi" class="form-label">Kode Solusi</label>
                    <input type="text" id="kode_solusi" name="kode_solusi" class="form-control" placeholder="Kode Solusi" aria-label="Kode Solusi" required="">
                  </div>
                  <div class="col-md-12 p-2">
                    <label for="solusi" class="form-label">Solusi Pengobatan</label>
                    <textarea class="form-control" required="" id="solusi" name="solusi"></textarea>
                  </div>
                </div>

              </div>
            </div>
          </div> -->
        </div>
      </div>
    </div>
  </div>
  <!-- modal -->   
  <div id="rotateleftModal" class="modal animated rotateInDownLeft custo-rotateInDownLeft" role="dialog">
    <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="judul" style="color: black!important">Gejala Penyakit</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
          </button>
        </div>

        <div class="modal-body">
          <!-- form grid -->
          <table id="zero-config" class="table dt-table-hover" style="width:100%">
            <thead>
              <tr>
                <th>Kode Gajal</th>
                <th>Nama Gejala</th>
                <th class="no-content">Action</th>
              </tr>
            </thead>
            <tbody id="gejala_detail">

            </tbody>
          </table>
          <!-- end form -->
        </div>
      </div>
    </div>
  </div>
  <script>

    $('#penyakit').select2();
    $("#gejala").select2();
    var metode = "tambah";
    function edit(kode_setting){
      metode ="edit";
      $("#iconAccordionOne").addClass('show');
      $("#iconAccordionThree").removeClass('show');
      $("#tipe").html("Perbaharui Setting");
      $.ajax({
        url:"<?=base_url('admin/Diagnosa/edit_diagnosa')?>/"+kode_setting,
        type:"GET",
        dataType:"JSON",
        success: function(data){
         $("#penyakit").val(data.kode_penyakit).trigger('change');
         $("#kode_setting").val(data.kode_setting);
         $("#data_gejala").load(`<?=base_url('admin/Diagnosa/load_cart')?>`);
       },error: function(jqXHR, textStatus, errorThrow){
         Swal.fire(
          'Gagal!',
          `GAGAL MENGAMBIL DATA`,
          'error'
          )
       }
     });  

    }

 // $("#kode_setting").val("");
 //  metode = "tambah";

 function batal_form(){
   $("#kode_setting").val("");
   metode = "tambah"; 
   $("#tipe").html("Simpan Setting");
   $("#form_setting")[0].reset();
   $("#penyakit").val("").trigger('change');
   $("#gejala").val("").trigger('change');
   $.ajax({
    url:"<?=base_url('admin/Diagnosa/reset_cart')?>/",
    type:"GET",
    dataType:"JSON",
    success: function(data){
     $("#data_gejala").load(`<?=base_url('admin/Diagnosa/load_cart')?>`);
   },error: function(jqXHR, textStatus, errorThrow){
     Swal.fire(
      'Gagal!',
      `GAGAL RESET`,
      'error'
      )
   }
 });

 }

 function gejala(kode_setting,nama_penyakit){
  $("#judul").html("Gejala Penyakit "+nama_penyakit)
  $("#tipe").html("Simpan Setting");
  $.ajax({
    url:"<?=base_url('admin/Diagnosa/gejala_penyakit')?>/"+kode_setting,
    type:"GET",
    dataType:"JSON",
    success: function(data){
     console.log(data);
     $("#gejala_detail").html(data);
   },error: function(jqXHR, textStatus, errorThrow){
     Swal.fire(
      'Gagal!',
      `GAGAL MENGAMBIL DATA`,
      'error'
      )
   }
 });
}


function tambah_gejala(){
  var kd_gejala = $("#gejala").val();
  var nm_gejala = $("#gejala option:selected").attr("nama_gejala");

  $.ajax({
    type:"POST",
    url: "<?=base_url('admin/Diagnosa/add_gejala')?>",
    data: {kd_gejala:kd_gejala, nm_gejala:nm_gejala},
    success:function(msg){
     $('#data_gejala').html(msg);
     console.log(msg);
        // swal("Data Berhasil Ditambahkan"," ","success");
        // $("#validationTooltip01").val("");
        // $('#teh_cawcui').val(null).trigger('change');

      }
    });
}

$("#data_gejala").load(`<?=base_url('admin/Diagnosa/load_cart')?>`);

function hapus(kode_setting){
  Swal.fire({
    title: 'Apakah Data Akan Dihapus?',
    text: "Data Akan Terhapus",
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#3085d6',
    cancelButtonColor: '#d33',
    confirmButtonText: 'Ya, Hapus!'
  }).then((result) => {
    if (result.isConfirmed) {
     $.ajax({
      url:"<?=base_url('admin/Diagnosa/delete_diagnosa');?>/"
      +kode_setting,
      type:"POST",
      dataType:"JSON",
      cache:false,
      success:function(a){
        if(a.status == true){
          Swal.fire(
            'Deleted!',
            `${a.pesan}`,
            'success'
            )
          setTimeout(function(){
            location.reload()
          },1000)                 
        }else{
         Swal.fire(
          'GAGAL!',
          `${a.pesan}`,
          'error'
          )
       }
     }
   })

   }
 })

}

$(document).on('click','.hapus_gejala',function(){
  var row_id = $(this).attr("id");
  $.ajax({
    url:"<?=base_url('admin/Diagnosa/hapus_cart')?>",
    method:"POST",
    data: {row_id : row_id},
    success : function(data){
      $("#data").html(data);
      $("#data_gejala").load(`<?=base_url('admin/Diagnosa/load_cart')?>`);
    }
  });
})

$(document).on('click','.hapus_gej',function(){
  var row_id = $(this).attr("id");
  $.ajax({
    url:"<?=base_url('admin/Diagnosa/hapus_gejala')?>",
    method:"POST",
    data: {row_id : row_id},
    success : function(data){
      var isi = JSON.parse(data);
      if(isi.status == true){
       Swal.fire(
        'Berhasil!',
        `${isi.pesan}`,
        'success'
        )
       gejala(isi.kode_setting,isi.nama_penyakit)
     }else{
      Swal.fire(
        'Gagal!',
        `${isi.pesan}`,
        'error'
        )
    }
  },error: function(er){
    Swal.fire(
      'Gagal!',
      'API GAGAL',
      'error'
      ) 
  }
});

})

$("#form_setting").submit(function(e){
  e.preventDefault();
  $.ajax({
    url:"<?=base_url('admin/Diagnosa/simpan_setting/')?>"+metode,
    type:"POST",
    data:$("#form_setting").serialize(),
    dataType:"JSON",
    success:function(data){
      if(data.status == true){
       Swal.fire(
        'Berhasil!',
        `${data.pesan}`,
        'success'
        )
       setTimeout(function(){
        location.reload()
          // $("#rotateleftModal").modal('hide');
        },1000)                 
     }else{
      Swal.fire(
        'Gagal!',
        `${data.pesan}`,
        'error'
        )
    }
  },
  error:function(er){
   Swal.fire(
    'Gagal!',
    'API GAGAL',
    'error'
    )
 }
})
})
</script>
